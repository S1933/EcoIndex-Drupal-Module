(()=>{"use strict";const e=JSON.parse('{"tI":{"Hf":[0,47,75,159,233,298,358,417,476,537,603,674,753,843,949,1076,1237,1459,1801,2479,594601],"TW":[0,2,15,25,34,42,49,56,63,70,78,86,95,105,117,130,147,170,205,281,3920],"eZ":[0,1.37,144.7,319.53,479.46,631.97,783.38,937.91,1098.62,1265.47,1448.32,1648.27,1876.08,2142.06,2465.37,2866.31,3401.59,4155.73,5400.08,8037.54,223212.26]},"DR":[{"value":80,"grade":"A"},{"value":70,"grade":"B"},{"value":55,"grade":"C"},{"value":40,"grade":"D"},{"value":25,"grade":"E"},{"value":10,"grade":"F"},{"value":0,"grade":"G"}]}');function t(e,t){for(let r=1;r<e.length;r++)if(t<e[r])return r-1+(t-e[r-1])/(e[r]-e[r-1]);return e.length-1}!function(r,n){if(n.ecoindex){var a=n.ecoindex.key;if(!0!==n.ecoindex.generate){var o=localStorage.getItem(a);document.getElementById("edit-field-ecoindex-0-value").value=o}else{var l=document.getElementsByTagName("*").length,d=performance.getEntriesByType("resource"),c=d.length,u=0;d.forEach((function(e){u+=e.transferSize}));var i=Number(function(r,n,a){const o={dom:e.tI.Hf,req:e.tI.TW,size:e.tI.eZ};return 100-5*(3*t(o.dom,r)+2*t(o.req,n)+t(o.size,a))/6}(l,c,u/1024)),g=(function(t){if(t<0||t>100)return!1;const r=e.DR;let n=!1,a=0;do{t>r[a].value&&(n=r[a].grade)}while(!1===n&&a++<r.length-1)}(i),n.ecoindex.key),s=Math.round(i);localStorage.setItem(g,Math.round(i));var f=document.getElementsByClassName("ecoindex-toolbar-tab").item(0),m=document.createElement("span");m.textContent=s,m.style.backgroundColor="white",m.style.padding="5px",m.style.color="#fff",n.ecoindex.score>0&&(m.style.backgroundColor="green",s<n.ecoindex.score&&(m.style.backgroundColor="red")),f.appendChild(m)}}}(Drupal,drupalSettings)})();