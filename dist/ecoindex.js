(()=>{"use strict";const e=JSON.parse('{"tI":{"Hf":[0,47,75,159,233,298,358,417,476,537,603,674,753,843,949,1076,1237,1459,1801,2479,594601],"TW":[0,2,15,25,34,42,49,56,63,70,78,86,95,105,117,130,147,170,205,281,3920],"eZ":[0,1.37,144.7,319.53,479.46,631.97,783.38,937.91,1098.62,1265.47,1448.32,1648.27,1876.08,2142.06,2465.37,2866.31,3401.59,4155.73,5400.08,8037.54,223212.26]},"DR":[{"value":80,"grade":"A"},{"value":70,"grade":"B"},{"value":55,"grade":"C"},{"value":40,"grade":"D"},{"value":25,"grade":"E"},{"value":10,"grade":"F"},{"value":0,"grade":"G"}]}');function t(e,t){for(let n=1;n<e.length;n++)if(t<e[n])return n-1+(t-e[n-1])/(e[n]-e[n-1]);return e.length-1}!function(n,r){var a=new n.Message;a.clear();var o=r.ecoindex.key;if(document.getElementById("edit-field-ecoindex-0-value")){var d=localStorage.getItem(o),u=document.getElementById("edit-field-ecoindex-0-value"),c=u.value;u.value=d,console.log(Math.abs(c-d)),Math.abs(c-d)>5&&a.add("EcoIndex changed, submit this form to save the new EcoIndex.",{type:"warning"})}var l=document.getElementsByTagName("*:not(#toolbar-administration)").length,i=performance.getEntriesByType("resource"),g=i.length,s=i.reduce((function(e,t){return e+t.transferSize}),0)/1024,f=Number(function(n,r,a){const o={dom:e.tI.Hf,req:e.tI.TW,size:e.tI.eZ};return 100-5*(3*t(o.dom,n)+2*t(o.req,r)+t(o.size,a))/6}(l,g,s)),v=Math.round(f),m=function(t){if(t<0||t>100)return!1;const n=e.DR;let r=!1,a=0;do{t>n[a].value&&(r=n[a].grade)}while(!1===r&&a++<n.length-1);return r}(f);localStorage.setItem(o,v);var h=document.querySelector(".ecoindex-score");h&&(h.textContent="EcoIndex "+v);var I=document.querySelector(".ecoindex-grade");I&&(I.textContent="Grade "+m,I.style.background={A:"#2e9b43",B:"#34bc6e",C:"#cadd00",D:"#f7ed00",E:"#ffce00",F:"#fb9929"}[m]||"#f01c16")}(Drupal,drupalSettings)})();